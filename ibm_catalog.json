{
    "products": [
        {
            "label": "Terraform Enterprise Fullstack Demo",
            "name": "terraform-enterprise-fullstack-demo",
            "product_kind": "solution",
            "tags": [
                "compute",
                "Technology"
            ],
            "keywords": [
                "terraform",
                "tfe"
            ],
            "short_description": "Demo for a deployable architecture that installs Terraform Enterprise and its requisite components.",
            "long_description": "",
            "provider_name": "Community",
            "offering_docs_url": "https://github.com/alex-reiff/terraform-ibm-ocp-terraform-enterprise/blob/main/README.md",
            "offering_icon_url": "https://cdn.worldvectorlogo.com/logos/terraform-enterprise.svg",
            "features": [
                {
                    "title": "Creates a resource group",
                    "description": ""
                },
                {
                    "title": "Creates a cloud object storage",
                    "description": ""
                },
                {
                    "title": "Creates a VPC",
                    "description": ""
                },
                {
                    "title": "Creates an openshift cluster on VPC",
                    "description": ""
                },
                {
                    "title": "Creates a postgres instance",
                    "description": ""
                },
                {
                    "title": "Creates a redis instance",
                    "description": ""
                },
                {
                    "title": "Installs terraform instance on a cluster",
                    "description": ""
                }
            ],
            "flavors": [
                {
                    "label": "Demo",
                    "name": "demo",
                    "working_directory": "solutions/demo",
                    "compliance": {},
                    "iam_permissions": [
                        {
                            "service_name": "containers-kubernetes",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "notes": "Required to create and edit OpenShift cluster and the related resources."
                        },
                        {
                            "service_name": "iam-identity",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Administrator",
                                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
                            ],
                            "notes": "Required to create the containers-kubernetes-key needed by the OpenShift cluster on IBM Cloud."
                        },
                        {
                            "service_name": "is.vpc",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Administrator"
                            ],
                            "notes": "Required for creating Virtual Private Cloud(VPC)."
                        },
                        {
                            "service_name": "cloud-object-storage",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "notes": "Required to create Cloud Object Storage (COS) Instance."
                        },
                        {
                            "service_name": "all-account-management-services",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Administrator"
                            ]
                        },
                        {
                            "service_name": "databases-for-postgresql",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ]
                        },
                        {
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "service_name": "kms"
                        },
                        {
                            "service_name": "hs-crypto",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "notes": "[Optional] Required if KMS encryption is enabled and IBM Hyper Protect Crypto Services is used to encrypt the Kubernetes Secrets and Object Storage bucket."
                        },
                        {
                            "service_name": "sysdig-monitor",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Cloud monitoring."
                        },
                        {
                            "service_name": "logs",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Cloud logs."
                        },
                        {
                            "service_name": "logs-router",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
                            ],
                            "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Logs Routing."
                        },
                        {
                            "service_name": "atracker",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                                "crn:v1:bluemix:public:iam::::role:Editor"
                            ],
                            "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Activity Tracker Event Routing."
                        },
                        {
                            "service_name": "secrets-manager",
                            "role_crns": [
                                "crn:v1:bluemix:public:iam::::role:Administrator",
                                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
                            ],
                            "notes": "[Optional] Required for creating an Secrets Manager instance. 'Manager' access required to create new secret groups."
                        }
                    ],
                    "architecture": {
                        "features": [
                            {
                                "title": "Terraform Enterprise Full Stack Installation",
                                "description": "Configured to use IBM secure by default standards, but can be edited to fit your use case."
                            }
                        ],
                        "diagrams": [
                            {
                                "diagram": {
                                    "caption": "Terraform Enterprise installation and its surrounding components.",
                                    "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-secrets-manager/main/reference-architecture/secrets_manager.svg",
                                    "type": "image/svg+xml"
                                },
                                "description": "(TODO DIAGRAM) This architecture supports creating and configuring a Terraform Enterprise installation on your cluster and the necessary Openshift cluster, PostGres instance, Redis instance, and Cloud Object Storage instance if needed."
                            }
                        ]
                    },
                    "release_notes_url": "",
                    "configuration": [
                        {
                            "key": "ibmcloud_api_key",
                            "required": true
                        },
                        {
                            "key": "prefix",
                            "required": true,
                            "default": "tfe"
                        },
                        {
                            "key": "region",
                            "required": true,
                            "default": "us-south",
                            "options": [
                                {
                                    "displayname": "Osaka (jp-osa)",
                                    "value": "jp-osa"
                                },
                                {
                                    "displayname": "Sydney (au-syd)",
                                    "value": "au-syd"
                                },
                                {
                                    "displayname": "Tokyo (jp-tok)",
                                    "value": "jp-tok"
                                },
                                {
                                    "displayname": "Frankfurt (eu-de)",
                                    "value": "eu-de"
                                },
                                {
                                    "displayname": "London (eu-gb)",
                                    "value": "eu-gb"
                                },
                                {
                                    "displayname": "Madrid (eu-es)",
                                    "value": "eu-es"
                                },
                                {
                                    "displayname": "Dallas (us-south)",
                                    "value": "us-south"
                                },
                                {
                                    "displayname": "Toronto (ca-tor)",
                                    "value": "ca-tor"
                                },
                                {
                                    "displayname": "Washington DC (us-east)",
                                    "value": "us-east"
                                },
                                {
                                    "displayname": "Sao Paulo (br-sao)",
                                    "value": "br-sao"
                                }
                            ]
                        },
                        {
                            "key": "resource_group"
                        },
                        {
                            "key": "resource_tags"
                        },
                        {
                            "key": "access_tags"
                        },
                        {
                            "key": "tfe_license",
                            "required": true
                        },
                        {
                            "key": "admin_username",
                            "required": true,
                            "default": "admin"
                        },
                        {
                            "key": "admin_email",
                            "required": true,
                            "default": "test@example.com"
                        },
                        {
                            "key": "admin_password",
                            "required": true
                        },
                        {
                            "key": "tfe_namespace"
                        },
                        {
                            "key": "existing_cos_instance_id"
                        },
                        {
                            "key": "cos_instance_name"
                        },
                        {
                            "key": "cos_bucket_name"
                        },
                        {
                            "key": "cos_retention"
                        },
                        {
                            "key": "postgres_instance_name"
                        },
                        {
                            "key": "redis_host_name"
                        },
                        {
                            "key": "redis_password_base64"
                        },
                        {
                            "key": "existing_vpc_id"
                        },
                        {
                            "key": "existing_cluster_crn"
                        },
                        {
                            "key": "ocp_version"
                        },
                        {
                            "key": "ocp_entitlement"
                        }
                    ],
                    "terraform_version": "",
                    "install_type": "fullstack",
                    "scripts": [],
                    "change_notices": {},
                    "dependencies": []
                }
            ]
        }
    ]
}